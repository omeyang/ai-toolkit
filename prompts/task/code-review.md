# 代码审查任务

请对以下代码变更进行全面审查。

## 审查维度

按优先级从高到低:

1. **正确性** — 逻辑错误、边界条件、nil 解引用、资源泄漏
2. **安全性** — 注入、硬编码凭证、TLS、权限控制
3. **性能** — 内存分配、N+1 查询、缺少超时、缺少连接池
4. **惯用法** — Go 代码风格、错误处理、命名、接口设计
5. **可观测性** — 日志覆盖、Trace 传播、指标埋点
6. **测试** — 覆盖率、边界用例、Mock 隔离

## 执行步骤

1. 运行 `golangci-lint run ./...` 和 `go vet ./...`
2. 检查测试覆盖: `go test -cover ./...`
3. 按上述维度逐项审查
4. 输出结构化报告

## 输出格式

```
## 审查摘要
- 变更概述: [一句话]
- 总体评价: [通过 / 需修改]
- 发现数: Critical: N, High: N, Medium: N, Low: N

## 发现
### [Critical/High/Medium/Low] 标题
- 文件: path:line
- 问题: ...
- 建议: ...

## 亮点
- [做得好的地方]
```
